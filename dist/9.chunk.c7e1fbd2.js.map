{"version":3,"sources":["webpack:///9.chunk.c7e1fbd2.js","webpack:///./src/modules/about/about.js"],"names":["webpackJsonp",35,"module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","showError","el","data","next","parentNode","lastChild","className","document","createElement","appendChild","innerHTML","getMessage","removeError","removeChild","validationVM","vm","avalon","define","$id","name","idcard","phone","$skipArray","reset","resetAll","validation","onInit","v","onReset","e","this","removeClass","onError","reasons","forEach","reason","addClass","onSuccess","onValidateAll","element","length","show","id","dialog","vmodels","toggle","$OptTestDialog","title","width","onConfirm","alert","controller","$ctrl","$onRendered","$onEnter","param","rs","rj","$onBeforeUnload","$vmodels","apply","undefined"],"mappings":"AAAAA,cAAc,EAAE,KAEVC,GACA,SAASC,EAAQC,EAASC,GCHhC,GAAAC,GAAAC,CAGAD,MAAAC,EAAA,WAGA,QAAAC,GAAAC,EAAAC,GACA,GAAAC,GAAAF,EAAAG,WAAAC,SACAF,IAAA,cAAAA,EAAAG,YACAH,EAAAI,SAAAC,cAAA,OACAL,EAAAG,UAAA,YACAL,EAAAG,WAAAK,YAAAN,IAEAA,EAAAO,UAAAR,EAAAS,aAGA,QAAAC,GAAAX,GACA,GAAAE,GAAAF,EAAAG,WAAAC,SACAF,IAAA,cAAAA,EAAAG,WACAL,EAAAG,WAAAS,YAAAV,GAfA,GAAAW,GAoBAC,EAAAC,OAAAC,QACAC,IAAA,QACAC,KAAA,GACAC,OAAA,GACAC,MAAA,GACAC,YAAA,cACAC,MAAA,WACAT,KAAAU,YAEAC,YACAC,OAAA,SAAAC,GACAb,EAAAa,GAEAC,QAAA,SAAAC,EAAA3B,GAEAc,OAAAc,MAAAC,YAAA,iBACAnB,EAAAkB,OAEAE,QAAA,SAAAC,GACAA,EAAAC,QAAA,SAAAC,GACAnB,OAAAc,MAAAC,YAAA,WAAAK,SAAA,SACApC,EAAA8B,KAAAK,IACSL,OAETO,UAAA,WACArB,OAAAc,MAAAC,YAAA,SAAAK,SAAA,WACAxB,EAAAkB,OAEAQ,cAAA,SAAAL,GACAA,EAAAC,QAAA,SAAAC,GACAnB,OAAAmB,EAAAI,SAAAR,YAAA,WAAAK,SAAA,SACApC,EAAAmC,EAAAI,QAAAJ,KAIA,IAAAF,EAAAO,SAKAC,KAAA,SAAAC,GACA5B,EAAAU,UACA,IAAAmB,GAAA3B,OAAA4B,QAAAF,EACAC,KAIAA,EAAAE,QAAA,IAGAC,gBACAC,MAAA,QACAC,MAAA,IACAC,UAAA,WACAC,MAAA,aAIA,OAAAlC,QAAAmC,WAAA,SAAAC,GAEAA,EAAAC,YAAA,aAIAD,EAAAE,SAAA,SAAAC,EAAAC,EAAAC,KAIAL,EAAAM,gBAAA,aAGAN,EAAAO,UAAA5C,MAEC6C,MAAAhE,EAAAE,KAAA+D,SAAA9D,IAAAJ,EAAAC,QAAAG","file":"9.chunk.c7e1fbd2.js","sourcesContent":["webpackJsonp([9,10],{\n\n/***/ 35:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * Created by WangMing on 15/12/9.\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\r\n\t  var validationVM;\r\n\t\r\n\t  function showError(el, data) {\r\n\t    var next = el.parentNode.lastChild;\r\n\t    if (!(next && next.className === \"error-tip\")) {\r\n\t      next = document.createElement(\"div\");\r\n\t      next.className = \"error-tip\";\r\n\t      el.parentNode.appendChild(next);\r\n\t    }\r\n\t    next.innerHTML = data.getMessage();\r\n\t  }\r\n\t\r\n\t  function removeError(el) {\r\n\t    var next = el.parentNode.lastChild;\r\n\t    if (next && next.className === \"error-tip\") {\r\n\t      el.parentNode.removeChild(next);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  // 定义所有相关的vmodel\r\n\t  var vm = avalon.define({\r\n\t    $id: \"about\",\r\n\t    name: \"\",\r\n\t    idcard: \"\",\r\n\t    phone: \"\",\r\n\t    $skipArray: [\"validation\"],\r\n\t    reset: function () {\r\n\t      validationVM && validationVM.resetAll()\r\n\t    },\r\n\t    validation: {\r\n\t      onInit: function (v) {\r\n\t        validationVM = v;\r\n\t      },\r\n\t      onReset: function (e, data) {\r\n\t        //data.valueResetor && data.valueResetor();\r\n\t        avalon(this).removeClass(\"error success\");\r\n\t        removeError(this);\r\n\t      },\r\n\t      onError: function (reasons) {\r\n\t        reasons.forEach(function (reason) {\r\n\t          avalon(this).removeClass(\"success\").addClass(\"error\");\r\n\t          showError(this, reason);\r\n\t        }, this)\r\n\t      },\r\n\t      onSuccess: function () {\r\n\t        avalon(this).removeClass(\"error\").addClass(\"success\");\r\n\t        removeError(this);\r\n\t      },\r\n\t      onValidateAll: function (reasons) {\r\n\t        reasons.forEach(function (reason) {\r\n\t          avalon(reason.element).removeClass(\"success\").addClass(\"error\");\r\n\t          showError(reason.element, reason);\r\n\t          //console.log(\"验证中\");\r\n\t\r\n\t        });\r\n\t        if (reasons.length === 0) {\r\n\t          //avalon.log(\"全部验证成功！\");\r\n\t        }\r\n\t      }\r\n\t    },\r\n\t    show: function (id) {\r\n\t      validationVM.resetAll();\r\n\t      var dialog = avalon.vmodels[id];\r\n\t      if (!dialog) {\r\n\t\r\n\t      }\r\n\t      else{\r\n\t        dialog.toggle=true;\r\n\t      }\r\n\t    },\r\n\t    $OptTestDialog: {\r\n\t      title: \"测试对话框\",\r\n\t      width: 600,\r\n\t      onConfirm: function () {\r\n\t        alert(\"你点击了确定\");\r\n\t      }\r\n\t    }\r\n\t  });\r\n\t  return avalon.controller(function ($ctrl) {\r\n\t    // 视图渲染后，意思是avalon.scan完成\r\n\t    $ctrl.$onRendered = function () {\r\n\t\r\n\t    };\r\n\t    // 进入视图\r\n\t    $ctrl.$onEnter = function (param, rs, rj) {\r\n\t\r\n\t    };\r\n\t    // 对应的视图销毁前\r\n\t    $ctrl.$onBeforeUnload = function () {\r\n\t\r\n\t    };\r\n\t    $ctrl.$vmodels = [vm];\r\n\t  })\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 9.chunk.c7e1fbd2.js\n **/","/**\r\n * Created by WangMing on 15/12/9.\r\n */\r\ndefine([], function () {\r\n  var validationVM;\r\n\r\n  function showError(el, data) {\r\n    var next = el.parentNode.lastChild;\r\n    if (!(next && next.className === \"error-tip\")) {\r\n      next = document.createElement(\"div\");\r\n      next.className = \"error-tip\";\r\n      el.parentNode.appendChild(next);\r\n    }\r\n    next.innerHTML = data.getMessage();\r\n  }\r\n\r\n  function removeError(el) {\r\n    var next = el.parentNode.lastChild;\r\n    if (next && next.className === \"error-tip\") {\r\n      el.parentNode.removeChild(next);\r\n    }\r\n  }\r\n\r\n  // 定义所有相关的vmodel\r\n  var vm = avalon.define({\r\n    $id: \"about\",\r\n    name: \"\",\r\n    idcard: \"\",\r\n    phone: \"\",\r\n    $skipArray: [\"validation\"],\r\n    reset: function () {\r\n      validationVM && validationVM.resetAll()\r\n    },\r\n    validation: {\r\n      onInit: function (v) {\r\n        validationVM = v;\r\n      },\r\n      onReset: function (e, data) {\r\n        //data.valueResetor && data.valueResetor();\r\n        avalon(this).removeClass(\"error success\");\r\n        removeError(this);\r\n      },\r\n      onError: function (reasons) {\r\n        reasons.forEach(function (reason) {\r\n          avalon(this).removeClass(\"success\").addClass(\"error\");\r\n          showError(this, reason);\r\n        }, this)\r\n      },\r\n      onSuccess: function () {\r\n        avalon(this).removeClass(\"error\").addClass(\"success\");\r\n        removeError(this);\r\n      },\r\n      onValidateAll: function (reasons) {\r\n        reasons.forEach(function (reason) {\r\n          avalon(reason.element).removeClass(\"success\").addClass(\"error\");\r\n          showError(reason.element, reason);\r\n          //console.log(\"验证中\");\r\n\r\n        });\r\n        if (reasons.length === 0) {\r\n          //avalon.log(\"全部验证成功！\");\r\n        }\r\n      }\r\n    },\r\n    show: function (id) {\r\n      validationVM.resetAll();\r\n      var dialog = avalon.vmodels[id];\r\n      if (!dialog) {\r\n\r\n      }\r\n      else{\r\n        dialog.toggle=true;\r\n      }\r\n    },\r\n    $OptTestDialog: {\r\n      title: \"测试对话框\",\r\n      width: 600,\r\n      onConfirm: function () {\r\n        alert(\"你点击了确定\");\r\n      }\r\n    }\r\n  });\r\n  return avalon.controller(function ($ctrl) {\r\n    // 视图渲染后，意思是avalon.scan完成\r\n    $ctrl.$onRendered = function () {\r\n\r\n    };\r\n    // 进入视图\r\n    $ctrl.$onEnter = function (param, rs, rj) {\r\n\r\n    };\r\n    // 对应的视图销毁前\r\n    $ctrl.$onBeforeUnload = function () {\r\n\r\n    };\r\n    $ctrl.$vmodels = [vm];\r\n  })\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/modules/about/about.js\n ** module id = 35\n ** module chunks = 9\n **/"],"sourceRoot":""}