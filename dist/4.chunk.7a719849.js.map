{"version":3,"sources":["webpack:///./src/modules/about/about.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,EAAC,gJ","file":"4.chunk.7a719849.js","sourcesContent":["/**\n * Created by WangMing on 15/12/9.\n */\ndefine([], function () {\n  var validationVM;\n\n  function showError(el, data) {\n    var next = el.parentNode.lastChild;\n    if (!(next && next.className === \"error-tip\")) {\n      next = document.createElement(\"div\");\n      next.className = \"error-tip\";\n      el.parentNode.appendChild(next);\n    }\n    next.innerHTML = data.getMessage();\n  }\n\n  function removeError(el) {\n    var next = el.parentNode.lastChild;\n    if (next && next.className === \"error-tip\") {\n      el.parentNode.removeChild(next);\n    }\n  }\n\n  // 定义所有相关的vmodel\n  var vm = avalon.define({\n    $id: \"about\",\n    name: \"\",\n    idcard: \"\",\n    phone: \"\",\n    $skipArray: [\"validation\"],\n    reset: function () {\n      validationVM && validationVM.resetAll()\n    },\n    validation: {\n      onInit: function (v) {\n        validationVM = v;\n      },\n      onReset: function (e, data) {\n        //data.valueResetor && data.valueResetor();\n        avalon(this).removeClass(\"error success\");\n        removeError(this);\n      },\n      onError: function (reasons) {\n        reasons.forEach(function (reason) {\n          avalon(this).removeClass(\"success\").addClass(\"error\");\n          showError(this, reason);\n        }, this)\n      },\n      onSuccess: function () {\n        avalon(this).removeClass(\"error\").addClass(\"success\");\n        removeError(this);\n      },\n      onValidateAll: function (reasons) {\n        reasons.forEach(function (reason) {\n          avalon(reason.element).removeClass(\"success\").addClass(\"error\");\n          showError(reason.element, reason);\n          //console.log(\"验证中\");\n\n        });\n        if (reasons.length === 0) {\n          //avalon.log(\"全部验证成功！\");\n        }\n      }\n    },\n    show: function (id) {\n      validationVM.resetAll();\n      var dialog = avalon.vmodels[id];\n      if (!dialog) {\n\n      }\n      else{\n        dialog.toggle=true;\n      }\n    },\n    $OptTestDialog: {\n      title: \"测试对话框\",\n      width: 600,\n      onConfirm: function () {\n        alert(\"你点击了确定\");\n      }\n    }\n  });\n  return avalon.controller(function ($ctrl) {\n    // 视图渲染后，意思是avalon.scan完成\n    $ctrl.$onRendered = function () {\n\n    };\n    // 进入视图\n    $ctrl.$onEnter = function (param, rs, rj) {\n\n    };\n    // 对应的视图销毁前\n    $ctrl.$onBeforeUnload = function () {\n\n    };\n    $ctrl.$vmodels = [vm];\n  })\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/modules/about/about.js\n ** module id = 43\n ** module chunks = 4\n **/"],"sourceRoot":""}